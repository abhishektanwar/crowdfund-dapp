{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React, { Component } from 'react';\nimport { Button, Form, Message } from 'semantic-ui-react';\nimport Campaign from '../../../ethereum/campaign';\nimport web3 from '../../../ethereum/web3';\nimport { Link, Router } from '../../../routes';\nimport Layout from '../../../components/Layout';\n\nclass RequestNew extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      value: '',\n      description: '',\n      recipient: ''\n    });\n\n    _defineProperty(this, \"onSubmit\", async event => {\n      event.preventDefault();\n      const campaign = Campaign(this.props.address);\n      const {\n        description,\n        value,\n        recipient\n      } = this.state;\n\n      try {\n        const accounts = await web3.eth.getAccounts();\n        await campaign.methods.createRequest(description, web3.utils.toWei(value, 'ether'), recipient).send({\n          from: accounts[0]\n        });\n      } catch (error) {}\n    });\n  }\n\n  static async getInitialProps(props) {\n    const {\n      address\n    } = props.query;\n    return {\n      address: address\n    };\n  }\n\n  render() {\n    return React.createElement(Layout, null, React.createElement(\"h3\", null, \"Create a Request\"), React.createElement(Form, {\n      onSubmit: this.onSubmit\n    }, React.createElement(Form.Field, null, React.createElement(\"label\", null, \"Description\"), React.createElement(\"input\", {\n      value: this.state.description,\n      onChange: event => this.setState({\n        description: event.target.value\n      })\n    })), React.createElement(Form.Field, null, React.createElement(\"label\", null, \"Value in Ether\"), React.createElement(\"input\", {\n      value: this.state.value,\n      onChange: event => this.setState({\n        value: event.target.value\n      })\n    })), React.createElement(Form.Field, null, React.createElement(\"label\", null, \"Recipiend Address\"), React.createElement(\"input\", {\n      value: this.state.recipient,\n      onChange: event => this.setState({\n        recipient: event.target.value\n      })\n    })), React.createElement(Button, {\n      primary: true\n    }, \"Create\")));\n  }\n\n}\n\nexport default RequestNew;","map":{"version":3,"sources":["/home/abhishek/kickstarter_bc/kickstarter_blockchain/crowdfund-dapp/pages/campaigns/requests/new.js"],"names":["React","Component","Button","Form","Message","Campaign","web3","Link","Router","Layout","RequestNew","value","description","recipient","event","preventDefault","campaign","props","address","state","accounts","eth","getAccounts","methods","createRequest","utils","toWei","send","from","error","getInitialProps","query","render","onSubmit","setState","target"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAgC,OAAhC;AACA,SAASC,MAAT,EAAgBC,IAAhB,EAAqBC,OAArB,QAAoC,mBAApC;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,IAAT,EAAcC,MAAd,QAA4B,iBAA5B;AACA,OAAOC,MAAP,MAAmB,4BAAnB;;AACA,MAAMC,UAAN,SAAyBT,SAAzB,CAAkC;AAAA;AAAA;;AAAA,mCAEtB;AACJU,MAAAA,KAAK,EAAC,EADF;AAEJC,MAAAA,WAAW,EAAC,EAFR;AAGJC,MAAAA,SAAS,EAAC;AAHN,KAFsB;;AAAA,sCAanB,MAAMC,KAAN,IAAe;AACtBA,MAAAA,KAAK,CAACC,cAAN;AACA,YAAMC,QAAQ,GAAGX,QAAQ,CAAC,KAAKY,KAAL,CAAWC,OAAZ,CAAzB;AACA,YAAM;AAAEN,QAAAA,WAAF;AAAcD,QAAAA,KAAd;AAAoBE,QAAAA;AAApB,UAAkC,KAAKM,KAA7C;;AAEA,UAAI;AACA,cAAMC,QAAQ,GAAG,MAAMd,IAAI,CAACe,GAAL,CAASC,WAAT,EAAvB;AACA,cAAMN,QAAQ,CAACO,OAAT,CACDC,aADC,CACaZ,WADb,EACyBN,IAAI,CAACmB,KAAL,CAAWC,KAAX,CAAiBf,KAAjB,EAAuB,OAAvB,CADzB,EACyDE,SADzD,EACoEc,IADpE,CACyE;AAC3EC,UAAAA,IAAI,EAACR,QAAQ,CAAC,CAAD;AAD8D,SADzE,CAAN;AAIH,OAND,CAME,OAAOS,KAAP,EAAc,CAEf;AACJ,KA3B6B;AAAA;;AAO9B,eAAaC,eAAb,CAA6Bb,KAA7B,EAAoC;AAChC,UAAM;AAAEC,MAAAA;AAAF,QAAcD,KAAK,CAACc,KAA1B;AACA,WAAO;AAAEb,MAAAA,OAAO,EAACA;AAAV,KAAP;AAEH;;AAkBDc,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,MAAD,QACI,mDADJ,EAEI,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKC;AAArB,OACA,oBAAC,IAAD,CAAM,KAAN,QACI,iDADJ,EAEI;AACI,MAAA,KAAK,EAAI,KAAKd,KAAL,CAAWP,WADxB;AAEI,MAAA,QAAQ,EAAEE,KAAK,IAAI,KAAKoB,QAAL,CAAc;AAACtB,QAAAA,WAAW,EAAEE,KAAK,CAACqB,MAAN,CAAaxB;AAA3B,OAAd;AAFvB,MAFJ,CADA,EASA,oBAAC,IAAD,CAAM,KAAN,QACI,oDADJ,EAEI;AACI,MAAA,KAAK,EAAI,KAAKQ,KAAL,CAAWR,KADxB;AAEI,MAAA,QAAQ,EAAEG,KAAK,IAAI,KAAKoB,QAAL,CAAc;AAACvB,QAAAA,KAAK,EAAEG,KAAK,CAACqB,MAAN,CAAaxB;AAArB,OAAd;AAFvB,MAFJ,CATA,EAgBA,oBAAC,IAAD,CAAM,KAAN,QACI,uDADJ,EAEI;AACI,MAAA,KAAK,EAAI,KAAKQ,KAAL,CAAWN,SADxB;AAEI,MAAA,QAAQ,EAAEC,KAAK,IAAI,KAAKoB,QAAL,CAAc;AAACrB,QAAAA,SAAS,EAAEC,KAAK,CAACqB,MAAN,CAAaxB;AAAzB,OAAd;AAFvB,MAFJ,CAhBA,EAuBA,oBAAC,MAAD;AAAQ,MAAA,OAAO;AAAf,gBAvBA,CAFJ,CADJ;AAiCH;;AA/D6B;;AAkElC,eAAeD,UAAf","sourcesContent":["import React,{ Component } from 'react';\nimport { Button,Form,Message } from 'semantic-ui-react';\nimport Campaign from '../../../ethereum/campaign';\nimport web3 from '../../../ethereum/web3';\nimport { Link,Router } from '../../../routes';\nimport Layout from '../../../components/Layout';\nclass RequestNew extends Component{\n\n    state = {\n        value:'',\n        description:'',\n        recipient:''\n    };\n    static async getInitialProps(props) {\n        const { address } = props.query;\n        return { address:address };\n\n    }\n\n    onSubmit = async event => {\n        event.preventDefault();\n        const campaign = Campaign(this.props.address);\n        const { description,value,recipient } = this.state;\n\n        try {\n            const accounts = await web3.eth.getAccounts();\n            await campaign.methods\n                .createRequest(description,web3.utils.toWei(value,'ether'),recipient).send({\n                from:accounts[0]\n            });\n        } catch (error) {\n            \n        }\n    }\n\n    render() {\n        return(\n            <Layout>\n                <h3>Create a Request</h3>\n                <Form onSubmit={this.onSubmit}>\n                <Form.Field>\n                    <label>Description</label>\n                    <input \n                        value = {this.state.description}\n                        onChange={event => this.setState({description: event.target.value})}    \n                    />\n                </Form.Field> \n\n                <Form.Field>\n                    <label>Value in Ether</label>\n                    <input \n                        value = {this.state.value}\n                        onChange={event => this.setState({value: event.target.value})}    \n                    />\n                </Form.Field>\n                <Form.Field>\n                    <label>Recipiend Address</label>\n                    <input \n                        value = {this.state.recipient}\n                        onChange={event => this.setState({recipient: event.target.value})}    \n                    />\n                </Form.Field>\n                <Button primary>\n                    Create\n                </Button>\n            </Form>\n            </Layout>\n            \n        );\n    }\n}\n\nexport default RequestNew;"]},"metadata":{},"sourceType":"module"}