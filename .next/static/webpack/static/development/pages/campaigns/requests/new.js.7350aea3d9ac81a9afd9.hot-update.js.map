{"version":3,"file":"static/webpack/static/development/pages/campaigns/requests/new.js.7350aea3d9ac81a9afd9.hot-update.js","sources":["webpack:///./pages/campaigns/requests/new.js"],"sourcesContent":["import React,{ Component } from 'react';\nimport { Button,Form,Message } from 'semantic-ui-react';\nimport Campaign from '../../../ethereum/campaign';\nimport web3 from '../../../ethereum/web3';\nimport { Link,Router } from '../../../routes';\nimport Layout from '../../../components/Layout';\nclass RequestNew extends Component{\n\n    state = {\n        value:'',\n        description:'',\n        recipient:''\n    };\n    static async getInitialProps(props) {\n        const { address } = props.query;\n        return { address:address };\n\n    }\n\n    onSubmit = async event => {\n        event.preventDefault();\n        const campaign = Campaign(this.props.address);\n        const { description,value,recipient } = this.state;\n\n        try {\n            const accounts = await web3.eth.getAccounts();\n            await campaign.methods\n                .createRequest(description,web3.utils.toWei(value,'ether'),recipient).send({\n                from:accounts[0]\n            });\n            Router.replaceRoutes(`/campaigns/${this.props.address}/requests`);\n        } catch (error) {\n            \n        }\n    }\n\n    render() {\n        return(\n            <Layout>\n                <h3>Create a Request</h3>\n                <Form onSubmit={this.onSubmit}>\n                <Form.Field>\n                    <label>Description</label>\n                    <input \n                        value = {this.state.description}\n                        onChange={event => this.setState({description: event.target.value})}    \n                    />\n                </Form.Field> \n\n                <Form.Field>\n                    <label>Value in Ether</label>\n                    <input \n                        value = {this.state.value}\n                        onChange={event => this.setState({value: event.target.value})}    \n                    />\n                </Form.Field>\n                <Form.Field>\n                    <label>Recipiend Address</label>\n                    <input \n                        value = {this.state.recipient}\n                        onChange={event => this.setState({recipient: event.target.value})}    \n                    />\n                </Form.Field>\n                <Button primary>\n                    Create\n                </Button>\n            </Form>\n            </Layout>\n            \n        );\n    }\n}\n\nexport default RequestNew;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAHA;AACA;;;;;;AAUA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAMA;AANA;AAAA;AASA;AADA;AACA;AATA;AAWA;AAXA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAgBA;AAAA;AACA;AAAA;AAGA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AASA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAKA;AAAA;AAOA;;;;;;AAzDA;;;;;;AACA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAVA;AACA;AAkEA;;;;A","sourceRoot":""}