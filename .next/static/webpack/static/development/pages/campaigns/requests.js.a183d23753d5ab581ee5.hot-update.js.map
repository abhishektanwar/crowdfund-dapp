{"version":3,"file":"static/webpack/static/development/pages/campaigns/requests.js.a183d23753d5ab581ee5.hot-update.js","sources":["webpack:///./pages/campaigns/requests/index.js"],"sourcesContent":["import React,{ Component } from 'react';\nimport Layout from '../../../components/Layout';\nimport { Link } from '../../../routes';\nimport { Button,Table } from 'semantic-ui-react';\nimport Campaign from '../../../ethereum/campaign';\nimport RequestRow from '../../../components/RequestRow';\nimport { request } from 'https';\n\nclass RequestIndexsd extends Component{\n    static async getInitialProps(props) {\n        const { address } = props.query;\n        const campaign = Campaign(address);\n        const requestCount = await campaign.methods.getRequestCount().call();\n        const approversCount = await campaign.methods.approversCount().call();\n        const requests = await Promise.all(\n        Array(parseInt(requestCount)).fill().map((element,index)=> {\n            return campaign.methods.requests(index).call();\n            }));\n        return { address,requests };\n    }\n\n    renderRow() {\n        return this.props.requests.map((request,index)=>{\n            return <RequestRow \n                approversCount={this.props.approversCount}\n                key={index}\n                id={index}\n                request={request}\n                address={this.props.address}\n            />\n        })\n    }\n\n    render() {\n        const { Header,Row,HeaderCell,Body } = Table;\n        return(\n            <Layout>\n                <h3>Request List</h3>\n                \n                {this.props.address}\n                {/* <Link route={`/campaigns/${this.props.address}/requests/new`}> \n                    <a>\n                        <Button primary>\n                            Add Request\n                        </Button>\n                    </a>\n                    \n                </Link> */}\n                <Link route={`/campaigns/${this.props.address}/requests/new`}>\n                    <a>\n                        <Button\n                            primary\n                            floated=\"right\"\n                            style={{ marginBottom: '10px' }}\n                        >\n                            Add Request\n                        </Button>\n                    </a>\n                </Link>\n\n                <Table>\n                    <Header>\n                        <Row>\n                            <HeaderCell>ID</HeaderCell>\n                            <HeaderCell>Description</HeaderCell>\n                            <HeaderCell>Amount</HeaderCell>\n                            <HeaderCell>Recipient</HeaderCell>\n                            <HeaderCell>Approval</HeaderCell>\n                            <HeaderCell>Approve</HeaderCell>\n                            <HeaderCell>Finalize</HeaderCell>\n                        </Row>\n                    </Header>\n                    <Body>\n                        {this.renderRow()}\n                    </Body>\n\n                </Table>\n\n            </Layout>\n            \n        );\n    }\n}\n\nexport default RequestIndexsd;\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAaA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AAaA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAHA;AA+BA;;;;;;AAxEA;;;;;;AACA;AACA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;;AACA;AAEA;AACA;AACA;;AAJA;AAIA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAXA;AACA;AA2EA;;;;A","sourceRoot":""}