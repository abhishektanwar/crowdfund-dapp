{"version":3,"file":"static/webpack/static/development/pages/campaigns/requests.js.3750bd6cc4c2457613f5.hot-update.js","sources":["webpack:///./components/RequestRow.js"],"sourcesContent":["import React,{ Component } from 'react';\nimport { Table, Tab , Button } from 'semantic-ui-react';\nimport web3 from '../ethereum/web3';\nimport Campaign from '../ethereum/campaign';\nimport {Router} from '../routes';\nimport { timingSafeEqual } from 'crypto';\nclass RequestRow extends Component {\n\n    state={loading:false};\n\n    onApprove = async (event) =>{\n        event.preventDefault();\n        this.setState({loading:true});\n        try {\n            \n            const accounts = await web3.eth.getAccounts();\n            const campaign = Campaign(this.props.address);\n            await campaign.methods.approveRequest(this.props.id).send({\n                from:accounts[0]\n        });\n        Router.pushRoute('/campaigns');\n        } catch (error) {\n            \n        }\n        this.setState({loading:false});\n        \n    };\n\n    onFinalize = async () =>{\n        const campaign = Campaign(this.props.address);\n\n        const accounts = await web3.eth.getAccounts();\n        await campaign.methods.finalizeRequest(this.props.id).send({\n            from:accounts[0]\n        });\n        \n        \n        \n    };\n\n    render(){\n        const { Row,Cell } = Table;\n        \n        return(\n            <Row>\n                <Cell>{this.props.id}</Cell>\n                <Cell>{this.props.request.description}</Cell>\n                <Cell>{web3.utils.fromWei(this.props.request.value,'ether')}</Cell>\n                <Cell>{this.props.request.recipient}</Cell>\n                <Cell>{this.props.request.approvalcount}/{this.props.approversCount}</Cell>\n                <Cell><Button loading={this.state.loading} onClick={this.onApprove}>Approve</Button></Cell>\n                <Cell><Button  onClick={this.onFinalize} >Finalize Request</Button></Cell>\n            \n            </Row>\n        );\n    }\n}\n\nexport default RequestRow;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;AAEA;AAAA;AAAA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AACA;AADA;AAKA;AACA;AANA;AAAA;AAQA;AADA;AACA;AARA;AAUA;AAVA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAcA;AAAA;AAAA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;AAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AAKA;AADA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAWA;AAAA;AAAA;AAGA;AAOA;AAAA;AAAA;AACA;AAAA;AAIA;;;;AAjDA;AACA;AAmDA;;;;A","sourceRoot":""}